<div>
<%layout("/layouts.ejs/head.ejs")-%>
<div class = "filters mt-3">
  <div class = "filter">
<div class = "ui"><i class="fa-solid fa-fire"></i></div>
Trending
  </div>
  
<div class = "filter">
<div class = "ui"><i class="fa-solid fa-bed"></i></div>
Rooms
</div>
<div class="filter">
  <div class = "ui"><i class="fa-solid fa-mountain-city"></i>
  </div><p>Iconic Cities</p>
</div>
<div class="filter">
  <div class= "ui"><i class="fa-solid fa-mountain"></i></div>
  <p>Mountains</p>
  
</div>
<div class="filter">
  <div class = "ui"><i class="fa-solid fa-person-swimming"></i></div>
  <p>Amazing Pools</p>
</div>
<div class="filter">
  <div class="ui"><i class="fa-solid fa-cow"></i></div>
  <p>Farms</p>
</div>
<div class="filter">
  <div class="ui"><i class="fa-solid fa-snowflake"></i></div>
  <p>Arctic</p>
</div>
<div class="filter">
  <div class="ui"><i class="fa-solid fa-ship"></i></div>
  <p>Boats</p>
</div>
<div class = "taxes">
<label class=" form-check-label" for="flexSwitchCheckDefault">Display total after Taxes</label>
<div class=" form-check form-switch">
   <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
</div>
</div>
</div>

    <div class = "main-body row-cols-md-3 row-cols-sm-1">
        <% for(list of allListings){%>
            <a href = "/listings/<%=list.id%>/show" >
        <div class="card listing-card" style = "width : 20rem;">
        
           <img src="<%=list.image.url%>" class="card-img-top" style = "height : 20rem;" alt="list_image">
           <div class = "card-img-overlay"></div>
            <div class="card-body">
              <b><h5 class="card-title"><%=list.title%></h5></b>
              <p>&#8377; <%=list.price.toLocaleString("en-IN")%>/Night <i class = "tax-info">+ 18% GST</i> </p> 
          
            </div>
           
          </div>
          
        </a>
           <%}%>

         
<script>
  let taxSwitch =  document.querySelector(".form-switch");
  taxSwitch.addEventListener("click", () => {
    let taxInfo = document.querySelectorAll(".tax-info");
    for(info of taxInfo){
      if(info.style.display != "inline"){
        info.style.display = "inline";
      }
   else{
     info.style.display = "none";
  
   }
    }
           })
        </script>

</div>
</div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9_54BzyFb6W3B-mt6fHO9IDlELzBiuXw"></script>
<script src = "/public/js/geocode.js"></script>

